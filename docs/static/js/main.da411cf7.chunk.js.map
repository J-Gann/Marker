{"version":3,"sources":["components/canvas/CanvasControl.js","components/canvas/Canvas.js","components/editor/LoadFiles.js","components/editor/MarkerEntry.js","components/editor/FileEntry.js","components/editor/DisplayFiles.js","components/editor/Editor.js","App.js","reportWebVitals.js","index.js"],"names":["CanvasControl","setCurrentImage","imagesLength","useState","imageIndex","setImageIndex","play","setPlay","repeat","setRepeat","speed","setSpeed","useEffect","intervalID","window","setInterval","oldIndex","clearInterval","className","type","value","onInput","e","number","Number","parseInt","target","onClick","currentIndex","oldRepeat","Canvas","images","markerOperations","markers","width","height","size","setSize","canvasContainer","useRef","currentImage","img","current","clientWidth","clientHeight","handleResize","addEventListener","removeEventListener","ref","length","scaleWidth","scaleHeight","scale","offsetX","offsetY","x","y","image","getMarkers","name","map","id","radius","fill","stroke","draggable","tension","onDragEnd","setMarker","points1","cnt","currentMarker","filter","marker","push","points2","points","strokeWidth","renderMarkerLine","LoadFiles","handleNewImages","handleNewMarkers","readFileAsyncURL","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","readFileAsyncText","readAsText","handleLoadImages","files","a","awaitList","nameList","i","all","urlList","imageList","Image","src","forEach","index","sort","handleLoadMarkers","JSON","parse","multiple","accept","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","download","stringify","MarkerEntry","console","log","removeMarker","onChange","FileEntry","details","setDetails","oldDetails","addMarker","Math","floor","random","toString","DisplayFiles","Editor","App","setImages","setMarkers","getMarker","imageName","markerID","markerList","warn","Error","newID","Navbar","bg","variant","Brand","newImages","newMarkers","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.da411cf7.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\n\nimport \"./CanvasControl.css\";\n\nconst CanvasControl = ({ setCurrentImage, imagesLength }) => {\n  const [imageIndex, setImageIndex] = useState(0);\n  const [play, setPlay] = useState(false);\n  const [repeat, setRepeat] = useState(true);\n  const [speed, setSpeed] = useState(30);\n\n  useEffect(() => {\n    const intervalID = window.setInterval(() => {\n      if (imagesLength) {\n        if (play && imagesLength - 1 > imageIndex) {\n          setImageIndex((oldIndex) => oldIndex + 1);\n        } else if (imagesLength - 1 === imageIndex && repeat) {\n          setImageIndex(() => 0);\n        }\n      }\n    }, speed);\n    return () => window.clearInterval(intervalID);\n  });\n\n  useEffect(() => setCurrentImage(imageIndex), [imageIndex, setCurrentImage]);\n\n  return (\n    <div className=\"canvas-control\">\n      <div className=\"current-image\">\n        Image:\n        <input\n          type=\"number\"\n          value={imageIndex}\n          onInput={(e) => {\n            const number = Number.parseInt(e.target.value);\n            if (number >= 0 && number <= imagesLength - 1)\n              setImageIndex(number);\n          }}\n        />\n      </div>\n      <div className=\"current-speed\">\n        Delay:\n        <input\n          type=\"number\"\n          value={speed}\n          onInput={(e) => {\n            const number = Number.parseInt(e.target.value);\n            if (number >= 1) setSpeed(number);\n          }}\n        />\n      </div>\n      <div>\n        <button\n          onClick={() => {\n            setPlay(false);\n            setImageIndex((currentIndex) =>\n              currentIndex !== 0 ? currentIndex - 1 : currentIndex\n            );\n          }}\n        >\n          Previous\n        </button>\n        <button\n          onClick={() => {\n            setPlay(false);\n            setImageIndex((currentIndex) =>\n              currentIndex !== imagesLength + 1\n                ? currentIndex + 1\n                : currentIndex\n            );\n          }}\n        >\n          Next\n        </button>\n\n        <button onClick={() => setPlay(true)}>Play</button>\n        <button onClick={() => setPlay(false)}>Pause</button>\n        <button onClick={() => setRepeat((oldRepeat) => !oldRepeat)}>\n          Toggle Repeat\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CanvasControl;\n","import { useEffect, useRef, useState } from \"react\";\nimport { Stage, Layer, Circle, Image, Line } from \"react-konva\";\n\nimport \"./Canvas.css\";\nimport CanvasControl from \"./CanvasControl\";\n\nconst Canvas = ({ images, markers, markerOperations }) => {\n  const [size, setSize] = useState({ width: 0, height: 0 });\n  const canvasContainer = useRef(null);\n  const [currentImage, setCurrentImage] = useState(0);\n\n  const img = images[currentImage];\n\n  useEffect(() => {\n    const { clientWidth, clientHeight } = canvasContainer.current;\n    const newSize = { width: clientWidth, height: clientHeight };\n    setSize(newSize);\n\n    const handleResize = () => {\n      const { clientWidth, clientHeight } = canvasContainer.current;\n      const newSize = {\n        width: clientWidth,\n        height: clientHeight,\n      };\n      setSize(newSize);\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  if (!img)\n    return (\n      <div className=\"canvas\">\n        <div ref={canvasContainer} className=\"canvas-container\"></div>\n        <div>\n          <CanvasControl\n            setCurrentImage={setCurrentImage}\n            imagesLength={images.length}\n            markerOperations={markerOperations}\n          ></CanvasControl>\n        </div>\n      </div>\n    );\n\n  const scaleWidth = size.width / img.width;\n  const scaleHeight = size.height / img.height;\n  const scale = scaleWidth < scaleHeight ? scaleWidth : scaleHeight;\n  const width = img.width * scale;\n  const offsetX = (size.width - width) / 2;\n  const height = img.height * scale;\n  const offsetY = (size.height - height) / 2;\n\n  const renderMarkers = () => {\n    const currentMarkers = markerOperations.getMarkers(img.name);\n    return currentMarkers.map(({ id, x, y }) => {\n      return (\n        <Circle\n          key={`marker_${currentImage}_${id}`}\n          x={x * scale + offsetX}\n          y={y * scale + offsetY}\n          radius={10 * scale}\n          fill={\"red\"}\n          stroke={\"black\"}\n          draggable={true}\n          tension={0.5}\n          onDragEnd={(e) =>\n            markerOperations.setMarker(\n              img.name,\n              id,\n              e.target.x() / scale - offsetX / scale,\n              e.target.y() / scale - offsetY / scale\n            )\n          }\n        ></Circle>\n      );\n    });\n  };\n\n  const renderMarkerLine = (size) => {\n    const currentMarkers = markerOperations.getMarkers(img.name);\n    return currentMarkers.map(({ id }) => {\n      let points1 = [];\n      for (let cnt = currentImage - size; cnt < currentImage; cnt++) {\n        const img = images[cnt];\n        const currentMarkers = markerOperations.getMarkers(img && img.name);\n        const currentMarker = currentMarkers.filter(\n          (marker) => marker.id === id\n        )[0];\n        if (currentMarker) {\n          points1.push(currentMarker[\"x\"] * scale + offsetX);\n          points1.push(currentMarker[\"y\"] * scale + offsetY);\n        }\n      }\n      let points2 = [];\n      for (let cnt = currentImage + 1; cnt < currentImage + size + 1; cnt++) {\n        const img = images[cnt];\n        const currentMarkers = markerOperations.getMarkers(img && img.name);\n        const currentMarker = currentMarkers.filter(\n          (marker) => marker.id === id\n        )[0];\n        if (currentMarker) {\n          points2.push(currentMarker[\"x\"] * scale + offsetX);\n          points2.push(currentMarker[\"y\"] * scale + offsetY);\n        }\n      }\n      return [\n        <Line\n          key={`linePast_${currentImage}_${id}`}\n          points={points1}\n          stroke={\"blue\"}\n          strokeWidth={4}\n        ></Line>,\n        <Line\n          key={`lineFuture_${currentImage}_${id}`}\n          points={points2}\n          stroke={\"green\"}\n          strokeWidth={4}\n        ></Line>,\n      ];\n    });\n  };\n\n  return (\n    <div className=\"canvas\">\n      <div ref={canvasContainer} className=\"canvas-container\">\n        <Stage className=\"canvas\" width={size.width} height={size.height}>\n          <Layer>\n            <Image\n              x={0 + offsetX}\n              y={0 + offsetY}\n              width={width}\n              height={height}\n              image={img}\n            ></Image>\n            {renderMarkers(10, \"red\", true)}\n            {renderMarkerLine(10, \"green\")}\n          </Layer>\n        </Stage>\n      </div>\n      <div>\n        <CanvasControl\n          setCurrentImage={setCurrentImage}\n          imagesLength={images.length}\n          markerOperations={markerOperations}\n        ></CanvasControl>\n      </div>\n    </div>\n  );\n};\n\nexport default Canvas;\n","import \"./LoadFiles.css\";\n\nconst LoadFiles = ({ handleNewImages, handleNewMarkers, markers }) => {\n  const readFileAsyncURL = (file) => {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const readFileAsyncText = (file) => {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = reject;\n      reader.readAsText(file);\n    });\n  };\n\n  const handleLoadImages = async (files) => {\n    let awaitList = [];\n    let nameList = [];\n    for (var i = 0; i < files.length; i++) {\n      awaitList.push(readFileAsyncURL(files[i]));\n      nameList.push(files[i].name);\n    }\n    const urlList = await Promise.all(awaitList);\n    awaitList = [];\n    const imageList = [];\n    for (var e = 0; e < urlList.length; e++) {\n      let image = new Image();\n      imageList.push(image);\n      awaitList.push(\n        new Promise((resolve, reject) => {\n          image.onload = () => resolve();\n        })\n      );\n      image.src = urlList[e];\n    }\n    await Promise.all(awaitList);\n    imageList.forEach((image, index) => {\n      imageList[index].name = nameList[index];\n    });\n    imageList.sort();\n    handleNewImages(imageList);\n  };\n\n  const handleLoadMarkers = async (file) => {\n    const markers = await readFileAsyncText(file[0]);\n    handleNewMarkers(JSON.parse(markers));\n  };\n\n  const download = (filename, text) => {\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text)\n    );\n    element.setAttribute(\"download\", filename);\n\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n  };\n\n  return (\n    <div>\n      <h3>Files</h3>\n      <div className=\"load-files\">\n        <label>Load Images</label>\n        <input\n          type=\"file\"\n          multiple\n          accept=\"image/png, image/jpeg\"\n          onInput={(e) => handleLoadImages(e.target.files)}\n        />\n        <label>Load Marker</label>\n        <input\n          type=\"file\"\n          accept=\"json\"\n          onInput={(e) => handleLoadMarkers(e.target.files)}\n        />\n        <button\n          onClick={() => download(\"markers.json\", JSON.stringify(markers))}\n        >\n          Download Markers as File\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default LoadFiles;\n","import \"./MarkerEntry.css\";\n\nconst MarkerEntry = ({ marker, image, markerOperations }) => {\n  return (\n    <div className=\"marker-entries\">\n      <div>\n        <button\n          className=\"fa-remove\"\n          onClick={() => {\n            console.log(\"click\");\n            markerOperations.removeMarker(image.name, marker.id);\n          }}\n        >\n          X\n        </button>\n      </div>\n      <div>\n        <p>id: </p>\n        <input\n          type=\"text\"\n          value={marker.id}\n          onChange={(e) => {\n            markerOperations.setMarker(\n              image.name,\n              marker.id,\n              marker.x,\n              marker.y,\n              e.target.value\n            );\n          }}\n        />\n      </div>\n      <div>\n        <p>x: </p>\n        <input\n          type=\"text\"\n          value={marker.x}\n          onChange={(e) => {\n            markerOperations.setMarker(\n              image.name,\n              marker.id,\n              e.target.value,\n              marker.y\n            );\n          }}\n        />\n      </div>\n      <div>\n        <p>y: </p>\n        <input\n          type=\"text\"\n          value={marker.y}\n          onChange={(e) => {\n            markerOperations.setMarker(\n              image.name,\n              marker.id,\n              marker.x,\n              e.target.value\n            );\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MarkerEntry;\n","import \"./FileEntry.css\";\nimport { useState } from \"react\";\nimport MarkerEntry from \"./MarkerEntry\";\n\nconst FileEntry = ({ image, markers, index, markerOperations }) => {\n  const [details, setDetails] = useState(false);\n\n  return (\n    <div className=\"file-entry\">\n      <div className=\"file-entry__bar\">\n        <p>{\"[\" + index + \"] IMG: \" + image.name}</p>\n        <button onClick={() => setDetails((oldDetails) => !oldDetails)}>\n          {details ? \"Hide\" : \"Show\"}\n        </button>\n        <button\n          onClick={() =>\n            markerOperations.addMarker(\n              image.name,\n              Math.floor(Math.random().toString() * 100),\n              0,\n              0\n            )\n          }\n        >\n          Add\n        </button>\n      </div>\n      <div className=\"file-entry__details\">\n        {details &&\n          (markers[image.name] ? (\n            markers[image.name].map((marker, index) => (\n              <MarkerEntry\n                key={index}\n                marker={marker}\n                markerOperations={markerOperations}\n                image={image}\n              ></MarkerEntry>\n            ))\n          ) : (\n            <div>No Markers</div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default FileEntry;\n","import \"./DisplayFiles.css\";\nimport FileEntry from \"./FileEntry\";\n\nconst DisplayFiles = ({ images, markers, markerOperations }) => {\n  return (\n    <>\n      <h3>Images</h3>\n      <div className=\"display-files\">\n        {images.map((image, index) => (\n          <FileEntry\n            key={index}\n            index={index}\n            image={image}\n            markers={markers}\n            markerOperations={markerOperations}\n          ></FileEntry>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default DisplayFiles;\n","import \"./Editor.css\";\nimport LoadFiles from \"./LoadFiles\";\nimport DisplayFiles from \"./DisplayFiles\";\n\nconst Editor = ({ handleNewImages, handleNewMarkers, images, markers, markerOperations }) => {\n  return (\n    <div className=\"editor\">\n      <div className=\"editor-load\">\n        <LoadFiles\n          handleNewImages={handleNewImages}\n          handleNewMarkers={handleNewMarkers}\n          markers={markers}\n        ></LoadFiles>\n      </div>\n      <div className=\"editor-display\">\n        <DisplayFiles images={images} markers={markers} markerOperations={markerOperations}></DisplayFiles>\n      </div>\n    </div>\n  );\n};\n\nexport default Editor;\n","import \"./App.css\";\n\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { useState } from \"react\";\nimport Canvas from \"./components/canvas/Canvas\";\nimport Editor from \"./components/editor/Editor\";\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [markers, setMarkers] = useState({});\n\n  const handleNewImages = (newImages) => setImages(newImages);\n  const handleNewMarkers = (newMarkers) => setMarkers(newMarkers);\n\n  /**\n   * Get the marker for an image and markerID\n   * @param {string} imageName\n   * @param {string} markerID\n   * @returns {Object | boolean} Marker\n   */\n  const getMarker = (imageName, markerID) => {\n    const markersList = getMarkers(imageName);\n    const markerList = markersList.filter((marker) => marker.id === markerID);\n    if (markerList.length > 1)\n      console.warn(\"Multiple Markers with the same ID found\");\n    if (markerList.length === 0)\n      throw new Error(`Marker with ID ${markerID} not found`);\n    if (markerList.length === 1) return markerList[0];\n  };\n\n  /**\n   * Get list of markers for an image\n   * @param {string} imageName\n   * @returns {Array} List of markers\n   */\n  const getMarkers = (imageName) => {\n    const markerList = markers[imageName];\n    if (!markerList) return [];\n    else return markerList;\n  };\n\n  /**\n   * Change content of an existing marker\n   * @param {string} imageName\n   * @param {string} markerID\n   * @param {number} x\n   * @param {number} y\n   */\n  const setMarker = (imageName, markerID, x, y, newID) => {\n    const marker = getMarker(imageName, markerID);\n    if (x) marker.x = x;\n    if (y) marker.y = y;\n    if (newID) marker.id = newID;\n    setMarkers({ ...markers });\n  };\n\n  /**\n   * Remove a marker\n   * @param {string} imageName\n   * @param {string} markerID\n   */\n  const removeMarker = (imageName, markerID) => {\n    const markerList = getMarkers(imageName);\n    markerList.forEach((marker, index) => {\n      if (marker.id === markerID) delete markerList[index];\n    });\n    setMarkers({ ...markers });\n  };\n\n  /**\n   * Add a new marker\n   * @param {string} imageName\n   * @param {string} markerID\n   * @param {number} x\n   * @param {number} y\n   */\n  const addMarker = (imageName, markerID, x, y) => {\n    const markerList = getMarkers(imageName);\n    markerList.push({ id: markerID, x: x, y: y });\n    setMarkers({ ...markers });\n  };\n\n  return (\n    <>\n      <Navbar bg=\"dark\" variant=\"dark\" id=\"app-navigation\">\n        <Navbar.Brand>Marker Visualization</Navbar.Brand>\n      </Navbar>\n      <div id=\"app-container\">\n        <Canvas\n          images={images}\n          markers={markers}\n          markerOperations={{\n            setMarker,\n            getMarker,\n            getMarkers,\n            removeMarker,\n            addMarker,\n          }}\n        ></Canvas>\n        <Editor\n          handleNewImages={handleNewImages}\n          handleNewMarkers={handleNewMarkers}\n          markerOperations={{\n            setMarker,\n            getMarker,\n            getMarkers,\n            removeMarker,\n            addMarker,\n          }}\n          images={images}\n          markers={markers}\n        ></Editor>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}